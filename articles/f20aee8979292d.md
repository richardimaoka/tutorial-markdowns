---
title: "„Ç≥„Éî„Éö„ÅßÂ≠¶„Å∂„ÉÅ„É•„Éº„Éà„É™„Ç¢„É´: GitHub Pull Request 3Á®ÆÈ°û„ÅÆmergeÊâãÊ≥ï„ÇíË©¶„Åô"
emoji: "üê∑"
type: "tech" # tech: ÊäÄË°ìË®ò‰∫ã / idea: „Ç¢„Ç§„Éá„Ç¢
topics: ["git"]
published: false
---

## Â∞éÂÖ•

PR „ÅÆ„Éú„Çø„É≥„Çπ„ÇØ„Ç∑„Éß

„Åì„Çì„Å™Ë®ò‰∫ã„Åå„Åô„Åß„Å´„ÅÇ„Çã„ÄÇ
„Åó„Åã„Åó„ÄÅÊâãËªΩ„Å´ÂÆüË°å„Åó„Åü„ÅÑ„ÄÇ

## setup

```sh
mkdir pull-req-merge-experiments
cd pull-req-merge-experiments
git init
```

```sh
gh repo create "" --public --source=. --remote=origin
```

:::details gh „Ç≥„Éû„É≥„Éâ(GitHub CLI)„Çí‰Ωø„Çè„Å™„ÅÑÂ†¥Âêà
Ë°®Á§∫„Åó„Åü„ÅÑÂÜÖÂÆπ
:::

## fast-forward merge locally

```shell
touch local-ff.txt
git add --all
git commit -m "create local-ff.txt"

git switch -c local-ff-1
echo a > local-ff.txt
git add --all
git commit -m "add a in branch local-ff-1"
echo b >> local-ff.txt
git add --all
git commit -m "add b in branch local-ff-1"
```

![alt„ÉÜ„Ç≠„Çπ„Éà](/images/f20aee8979292d/git-pr-merge-1.png)

```shell
git switch main
git merge local-ff-1
git branch -d local-ff-1

git push origin main
```

![alt„ÉÜ„Ç≠„Çπ„Éà](/images/f20aee8979292d/git-pr-merge-2.png)

## no-ff merge locally

```shell
touch local-no-ff.txt
git add --all
git commit -m "create local-no-ff.txt"

git switch -c local-no-ff-1
echo a > local-no-ff.txt
git add --all
git commit -m "add a in branch local-no-ff-1"
echo b >> local-no-ff.txt
git add --all
git commit -m "add b in branch local-no-ff-1"

git switch main
git merge --no-ff --no-edit local-no-ff-1
git branch -d local-no-ff-1

git push origin main
```

![alt„ÉÜ„Ç≠„Çπ„Éà](/images/f20aee8979292d/git-pr-merge-3.png)

## PR merge commit

```shell
cat << EOF > pull-req-merge-commit.txt
a

b

c
EOF
git add --all
git commit -m "create pull-req-merge-commit.txt"
git push origin main

git switch -c pr-merge-commit-1
sed -i 's/a/aaaaa/' pull-req-merge-commit.txt
git add --all
git commit -m "update a in pr-merge-commit-1"
git push --set-upstream origin pr-merge-commit-1

git switch -c pr-merge-commit-2 main
sed -i 's/b/bbbbb/' pull-req-merge-commit.txt
git add --all
git commit -m "update b in pr-merge-commit-2"
sed -i 's/c/ccccc/' pull-req-merge-commit.txt
git add --all
git commit -m "update c in pr-merge-commit-2"
git push --set-upstream origin pr-merge-commit-2

gh pr create --title pr-merge-commit-1 --body "" --base main --head pr-merge-commit-1
gh pr create --title pr-merge-commit-2 --body "" --base main --head pr-merge-commit-2
```

![alt„ÉÜ„Ç≠„Çπ„Éà](/images/f20aee8979292d/git-pr-merge-4.png)

```shell
gh pr merge pr-merge-commit-1 --merge --delete-branch
gh pr merge pr-merge-commit-2 --merge --delete-branch

git switch main
git pull origin main
```

![alt„ÉÜ„Ç≠„Çπ„Éà](/images/f20aee8979292d/git-pr-merge-5.png)

![alt„ÉÜ„Ç≠„Çπ„Éà](/images/f20aee8979292d/git-pr-merge-6.png)

```shell
git log --oneline --decorate --graph
```

## PR squash merge

```shell
cat << EOF > pull-req-squash-merge.txt
a

b

c
EOF
git add --all
git commit -m "create pull-req-squash-merge.txt"
git push origin main

git switch -c pr-squash-merge-1
sed -i 's/a/aaaaa/' pull-req-squash-merge.txt
git add --all
git commit -m "update a in pr-squash-merge-1"
git push --set-upstream origin pr-squash-merge-1

git switch -c pr-squash-merge-2 main
sed -i 's/b/bbbbb/' pull-req-squash-merge.txt
git add --all
git commit -m "update b in pr-squash-merge-2"
sed -i 's/c/ccccc/' pull-req-squash-merge.txt
git add --all
git commit -m "update c in pr-squash-merge-2"
git push --set-upstream origin pr-squash-merge-2

gh pr create --title pr-squash-merge-1 --body "" --base main --head pr-squash-merge-1
gh pr create --title pr-squash-merge-2 --body "" --base main --head pr-squash-merge-2
gh pr merge pr-squash-merge-1 --squash --delete-branch # PR„ÅÆSquash merge
gh pr merge pr-squash-merge-2 --squash --delete-branch # PR„ÅÆSquash merge

git switch main
git pull origin main
```

![alt„ÉÜ„Ç≠„Çπ„Éà](/images/f20aee8979292d/git-pr-merge-7.png)

![alt„ÉÜ„Ç≠„Çπ„Éà](/images/f20aee8979292d/git-pr-merge-8.png)

```shell
git log --oneline --decorate --graph
```

## PR rebase merge

```shell
cat << EOF > pull-req-rebase-merge.txt
a

b

c
EOF
git add --all
git commit -m "create pull-req-rebase-merge.txt"
git push origin main

git switch -c pr-rebase-merge-1
sed -i 's/a/aaaaa/' pull-req-rebase-merge.txt
git add --all
git commit -m "update a in pr-rebase-merge-1"
git push --set-upstream origin pr-rebase-merge-1

git switch -c pr-rebase-merge-2 main
sed -i 's/b/bbbbb/' pull-req-rebase-merge.txt
git add --all
git commit -m "update b in pr-rebase-merge-2"
sed -i 's/c/ccccc/' pull-req-rebase-merge.txt
git add --all
git commit -m "update c in pr-rebase-merge-2"
git push --set-upstream origin pr-rebase-merge-2

gh pr create --title pr-rebase-merge-1 --body "" --base main --head pr-rebase-merge-1
gh pr create --title pr-rebase-merge-2 --body "" --base main --head pr-rebase-merge-2
gh pr merge pr-rebase-merge-1 --rebase --delete-branch
gh pr merge pr-rebase-merge-2 --rebase --delete-branch

git switch main
git pull origin main
git branch -D pr-rebase-merge-1
git branch -D pr-rebase-merge-2

git log --oneline --decorate --graph
```
